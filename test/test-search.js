var items = [
              {
               "kind": "youtube#searchResult",
               "etag": "\"I_8xdZu766_FSaexEaDXTIfEWc0/FPaXP9FMDMAkU-SpKfwp9TnPLEQ\"",
               "id": {
                "kind": "youtube#video",
                "videoId": "nGeKSiCQkPw"
               },
               "snippet": {
                "publishedAt": "2011-05-02T01:33:57.000Z",
                "channelId": "UCreVub8zOW6R2zg15FfBq4A",
                "title": "Ultimate Dog Tease",
                "description": "Dogs... Love.... Food. Video by Andrew Grantham: http://facebook.com/klaatu42 T-SHIRTS: http://talkinganimalmerch.com (all profits go to SPCA) facebook: ...",
                "thumbnails": {
                 "default": {
                  "url": "https://i.ytimg.com/vi/nGeKSiCQkPw/default.jpg",
                  "width": 120,
                  "height": 90
                 },
                 "medium": {
                  "url": "https://i.ytimg.com/vi/nGeKSiCQkPw/mqdefault.jpg",
                  "width": 320,
                  "height": 180
                 },
                 "high": {
                  "url": "https://i.ytimg.com/vi/nGeKSiCQkPw/hqdefault.jpg",
                  "width": 480,
                  "height": 360
                 }
                },
                "channelTitle": "Talking Animals",
                "liveBroadcastContent": "none"
               }
              },
              {
               "kind": "youtube#searchResult",
               "etag": "\"I_8xdZu766_FSaexEaDXTIfEWc0/eGsVkPe_ZrxlyZ338_ZiP_w5s04\"",
               "id": {
                "kind": "youtube#video",
                "videoId": "YoB8t0B4jx4"
               },
               "snippet": {
                "publishedAt": "2014-09-04T14:28:22.000Z",
                "channelId": "UCdZwMpK-iWqCos46xPscDeg",
                "title": "Mutant Giant Spider Dog (SA Wardega)",
                "description": "FACEBOOK: http://www.facebook.com/sawardega SUBSCRIBE: http://www.youtube.com/user/wardegasa?sub_confirmation=1 Muzyka pochodzi z katalog√≥w ...",
                "thumbnails": {
                 "default": {
                  "url": "https://i.ytimg.com/vi/YoB8t0B4jx4/default.jpg",
                  "width": 120,
                  "height": 90
                 },
                 "medium": {
                  "url": "https://i.ytimg.com/vi/YoB8t0B4jx4/mqdefault.jpg",
                  "width": 320,
                  "height": 180
                 },
                 "high": {
                  "url": "https://i.ytimg.com/vi/YoB8t0B4jx4/hqdefault.jpg",
                  "width": 480,
                  "height": 360
                 }
                },
                "channelTitle": "SA Wardega",
                "liveBroadcastContent": "none"
               }
              },
              {
               "kind": "youtube#searchResult",
               "etag": "\"I_8xdZu766_FSaexEaDXTIfEWc0/OsIb34D_lLLxiXBXUb3kcBKFU84\"",
               "id": {
                "kind": "youtube#video",
                "videoId": "qXo3NFqkaRM"
               },
               "snippet": {
                "publishedAt": "2008-02-08T02:08:21.000Z",
                "channelId": "UCyP1SvkDY0EaCjDAJnNMLBw",
                "title": "Husky Dog Talking - \" I love you \"",
                "description": "This is our adorable and talented siberian husky, Mishka :) This dog can talk like no other! You never know what she may say next! Watch more Mishka The ...",
                "thumbnails": {
                 "default": {
                  "url": "https://i.ytimg.com/vi/qXo3NFqkaRM/default.jpg",
                  "width": 120,
                  "height": 90
                 },
                 "medium": {
                  "url": "https://i.ytimg.com/vi/qXo3NFqkaRM/mqdefault.jpg",
                  "width": 320,
                  "height": 180
                 },
                 "high": {
                  "url": "https://i.ytimg.com/vi/qXo3NFqkaRM/hqdefault.jpg",
                  "width": 480,
                  "height": 360
                 }
                },
                "channelTitle": "gardea23",
                "liveBroadcastContent": "none"
               }
              },
              {
               "kind": "youtube#searchResult",
               "etag": "\"I_8xdZu766_FSaexEaDXTIfEWc0/NvxpVJ4m67Qe1zNd9ziOeR2cnuw\"",
               "id": {
                "kind": "youtube#video",
                "videoId": "V4LnorVVxfw"
               },
               "snippet": {
                "publishedAt": "2013-08-23T14:59:46.000Z",
                "channelId": "UCKy3MG7_If9KlVuvw3rPMfw",
                "title": "Dogs just don't want to bath - Funny dog bathing compilation",
                "description": "Want to find a girlfriend or boyfriend? Watch and learn how this funny crab deals with this problem: https://www.youtube.com/watch?v=xLeGyMh1LuI If u ask a ...",
                "thumbnails": {
                 "default": {
                  "url": "https://i.ytimg.com/vi/V4LnorVVxfw/default.jpg",
                  "width": 120,
                  "height": 90
                 },
                 "medium": {
                  "url": "https://i.ytimg.com/vi/V4LnorVVxfw/mqdefault.jpg",
                  "width": 320,
                  "height": 180
                 },
                 "high": {
                  "url": "https://i.ytimg.com/vi/V4LnorVVxfw/hqdefault.jpg",
                  "width": 480,
                  "height": 360
                 }
                },
                "channelTitle": "Tiger Productions",
                "liveBroadcastContent": "none"
               }
              },
              {
               "kind": "youtube#searchResult",
               "etag": "\"I_8xdZu766_FSaexEaDXTIfEWc0/lqJNVGJj5Ohapdam9VsowZ_db7g\"",
               "id": {
                "kind": "youtube#video",
                "videoId": "oH8WoVvpbs8"
               },
               "snippet": {
                "publishedAt": "2009-08-02T20:43:10.000Z",
                "channelId": "UCP_UufTssU879YbJrorDAtA",
                "title": "DOG vs. WATER BALLOONS",
                "description": "Simon renders 10 water balloons utterly useless with Meerkat action finale.",
                "thumbnails": {
                 "default": {
                  "url": "https://i.ytimg.com/vi/oH8WoVvpbs8/default.jpg",
                  "width": 120,
                  "height": 90
                 },
                 "medium": {
                  "url": "https://i.ytimg.com/vi/oH8WoVvpbs8/mqdefault.jpg",
                  "width": 320,
                  "height": 180
                 },
                 "high": {
                  "url": "https://i.ytimg.com/vi/oH8WoVvpbs8/hqdefault.jpg",
                  "width": 480,
                  "height": 360
                 }
                },
                "channelTitle": "kbad73",
                "liveBroadcastContent": "none"
               }
              },
              {
               "kind": "youtube#searchResult",
               "etag": "\"I_8xdZu766_FSaexEaDXTIfEWc0/BEeZtKVjkUBN1u6S8p94dOIJS1U\"",
               "id": {
                "kind": "youtube#video",
                "videoId": "ilMzs1UHEmw"
               },
               "snippet": {
                "publishedAt": "2014-03-12T10:00:01.000Z",
                "channelId": "UChl6CG-V7LgqhfwkvbHH67Q",
                "title": "Cute Dogs And Adorable Babies: Compilation",
                "description": "In this cute dog and baby video, tune in to see some precious and hilarious moments between dogs, puppies, babies, and toddlers. Precious. SUBSCRIBE TO ...",
                "thumbnails": {
                 "default": {
                  "url": "https://i.ytimg.com/vi/ilMzs1UHEmw/default.jpg",
                  "width": 120,
                  "height": 90
                 },
                 "medium": {
                  "url": "https://i.ytimg.com/vi/ilMzs1UHEmw/mqdefault.jpg",
                  "width": 320,
                  "height": 180
                 },
                 "high": {
                  "url": "https://i.ytimg.com/vi/ilMzs1UHEmw/hqdefault.jpg",
                  "width": 480,
                  "height": 360
                 }
                },
                "channelTitle": "Kyoot Animals",
                "liveBroadcastContent": "none"
               }
              },
              {
               "kind": "youtube#searchResult",
               "etag": "\"I_8xdZu766_FSaexEaDXTIfEWc0/wpXJzEUKrmfR6K1pj77wdztROyE\"",
               "id": {
                "kind": "youtube#video",
                "videoId": "iWOyfLBYtuU"
               },
               "snippet": {
                "publishedAt": "2010-03-12T16:37:21.000Z",
                "channelId": "UCDYfiBTEPexujA5wDWvxUnA",
                "title": "Florence + The Machine - Dog Days Are Over (2010 Version)",
                "description": "The new official video to the Dog Days Are Over. Click here to download http://zaphod.uk.vvhp.net/v-v/100312134937.",
                "thumbnails": {
                 "default": {
                  "url": "https://i.ytimg.com/vi/iWOyfLBYtuU/default.jpg",
                  "width": 120,
                  "height": 90
                 },
                 "medium": {
                  "url": "https://i.ytimg.com/vi/iWOyfLBYtuU/mqdefault.jpg",
                  "width": 320,
                  "height": 180
                 },
                 "high": {
                  "url": "https://i.ytimg.com/vi/iWOyfLBYtuU/hqdefault.jpg",
                  "width": 480,
                  "height": 360
                 }
                },
                "channelTitle": "FlorenceMachineVEVO",
                "liveBroadcastContent": "none"
               }
              },
              {
               "kind": "youtube#searchResult",
               "etag": "\"I_8xdZu766_FSaexEaDXTIfEWc0/MY7KWKuKXdWviri2YjA6dBE5sRk\"",
               "id": {
                "kind": "youtube#video",
                "videoId": "2NzUm7UEEIY"
               },
               "snippet": {
                "publishedAt": "2012-01-03T04:44:05.000Z",
                "channelId": "UCvXgsjn9MJjQsK20ofBtP3w",
                "title": "How It's Made - Hot Dogs",
                "description": "Show created by Gabriel Hoss. The show is presented on the Science Channel in the US, Discovery Channel Canada in Canada, and on the Discovery ...",
                "thumbnails": {
                 "default": {
                  "url": "https://i.ytimg.com/vi/2NzUm7UEEIY/default.jpg",
                  "width": 120,
                  "height": 90
                 },
                 "medium": {
                  "url": "https://i.ytimg.com/vi/2NzUm7UEEIY/mqdefault.jpg",
                  "width": 320,
                  "height": 180
                 },
                 "high": {
                  "url": "https://i.ytimg.com/vi/2NzUm7UEEIY/hqdefault.jpg",
                  "width": 480,
                  "height": 360
                 }
                },
                "channelTitle": "KlingonSpider",
                "liveBroadcastContent": "none"
               }
              },
              {
               "kind": "youtube#searchResult",
               "etag": "\"I_8xdZu766_FSaexEaDXTIfEWc0/81UDr1glFwFS5UZ9-d_ygoqQd0M\"",
               "id": {
                "kind": "youtube#video",
                "videoId": "B8ISzf2pryI"
               },
               "snippet": {
                "publishedAt": "2011-03-09T00:14:27.000Z",
                "channelId": "UCb9FZWy5rKHYQh4jpwUS61Q",
                "title": "Denver Official Guilty Dog Video  www.facebook.com/guiltydog",
                "description": "Someone helped themselves to the kitty Cat treats! Let's see who cracks under pressure? Denver's Toys and books: http://www.guiltydogstore.com/collections/all ...",
                "thumbnails": {
                 "default": {
                  "url": "https://i.ytimg.com/vi/B8ISzf2pryI/default.jpg",
                  "width": 120,
                  "height": 90
                 },
                 "medium": {
                  "url": "https://i.ytimg.com/vi/B8ISzf2pryI/mqdefault.jpg",
                  "width": 320,
                  "height": 180
                 },
                 "high": {
                  "url": "https://i.ytimg.com/vi/B8ISzf2pryI/hqdefault.jpg",
                  "width": 480,
                  "height": 360
                 }
                },
                "channelTitle": "foodplot",
                "liveBroadcastContent": "none"
               }
              },
              {
               "kind": "youtube#searchResult",
               "etag": "\"I_8xdZu766_FSaexEaDXTIfEWc0/a9Z4g8xmGp9yATitpjTHbTRW7Ug\"",
               "id": {
                "kind": "youtube#video",
                "videoId": "RKBcs9tNWg8"
               },
               "snippet": {
                "publishedAt": "2013-08-16T03:09:51.000Z",
                "channelId": "UCVUdHi-tdW5AKdzMiTPG97Q",
                "title": "Dogs Welcoming Soldiers Home Compilation 2012",
                "description": "Soldiers coming home to their lovable pups! Man's best friend! Dogs Welcome Home Soldiers 2014 - https://www.youtube.com/watch?v=5BnxV9H_ExA Puppies ...",
                "thumbnails": {
                 "default": {
                  "url": "https://i.ytimg.com/vi/RKBcs9tNWg8/default.jpg",
                  "width": 120,
                  "height": 90
                 },
                 "medium": {
                  "url": "https://i.ytimg.com/vi/RKBcs9tNWg8/mqdefault.jpg",
                  "width": 320,
                  "height": 180
                 },
                 "high": {
                  "url": "https://i.ytimg.com/vi/RKBcs9tNWg8/hqdefault.jpg",
                  "width": 480,
                  "height": 360
                 }
                },
                "channelTitle": "funnyplox",
                "liveBroadcastContent": "none"
               }
              }
            ];

var React = require('react');
var Provider = require('react-redux').Provider;
var TestUtils = require('react-addons-test-utils');
var should = require('chai').should();

var search = require('../components/search');
var store = require('../store');
var Container = search.Container;
var Results = search.Results;

describe('Search component', function() {
    it('Renders the YouTube logo and search form', function() {
        var renderer = TestUtils.createRenderer();
        renderer.render(<Provider store={store}>
                            <Container />
                        </Provider>);
        var result = renderer.getRenderOutput();
        result.type.displayName.should.equal('Connect(Search)');
    }),
    
    it('Renders the Results', function() {
        var list = items;
        var keyword = "dogs";
        var index = [0, 1];
        var onClick = function() {};
        
        var renderer = TestUtils.createRenderer();
        renderer.render(<Results list={list} keyword={keyword} index={index} onClick={onClick} />);
        var result = renderer.getRenderOutput();
        result.type.should.equal('ul');
        
        var h3 = result.props.children[0];
        h3.type.should.equal('h3');
        h3.props.children[0].should.equal('Results for ');
        h3.props.children[1].should.equal('"dogs"');
        
        for(var i = 0; i < items.length; i++) {
            var li = result.props.children[1][i];
            li.type.should.equal('li');
            li.key.should.equal(String(i));
            li.props.children[0].props.snippet.should.equal(items[i].snippet);
            li.props.children[0].props.onClick.should.equal(onClick);
            if(index.indexOf(i) !== -1) li.props.children[0].props.anchorText.should.equal('Close');
            else li.props.children[0].props.anchorText.should.equal('View');
            
            li.props.children[1].type.should.equal('div');
            li.props.children[1].props.className.should.equal('player');
        }
    });
});